@model ManagerDashboardViewModel
@{
    ViewData["Title"] = "Dashboard";
    Layout = "_ManagerLayout";
}
<div class="container">
    <div class="row pt-5 pb-5">

        <!--Available Rooms Card-->
        <div class="col-md-3 mb-2">
            <div class="card" style="border-radius:20px 20px;">
                <div class="m-2">
                    <div class="text-center col-12">
                        <box-icon class="card-title" style=" margin-top: 5px;" size="md" color='#2067A1' name='bed'></box-icon>
                    </div>
                    <div class="col-12 text-center">
                        <h1 class="card-title" style=" margin-bottom: 1px;">
                            Available Rooms
                        </h1>
                    </div>
                    <div class="card-body col-12 text-center">
                        <h1 class="card-title" style="font-size: 30px;">
                            @Model.Statistics.AvailableRooms
                        </h1>
                    </div>
                </div>
            </div>
        </div>

        <!--Booked Rooms Card-->
        <div class="col-md-3 mb-2">
            <div class="card" style="border-radius:20px 20px;">
                <div class="m-2">
                    <div class="text-center col-12">
                        <box-icon class="card-title" style=" margin-top: 5px;" size="md" color='#2067A1' name='bed'></box-icon>
                    </div>
                    <div class="col-12 text-center">
                        <h1 class="card-title" style=" margin-bottom: 1px;">
                            Booked Rooms
                        </h1>
                    </div>
                    <div class="card-body col-12 text-center">
                        <h1 class="card-title" style="font-size: 30px;">
                            @Model.Statistics.BookedRooms
                        </h1>
                    </div>
                </div>
            </div>
        </div>

        <!--Hotels Card-->
        <div class="col-md-3 mb-2">
            <div class="card" style="border-radius:20px 20px;">
                <div class="m-2">
                    <div class="text-center col-12">
                        <box-icon class="card-title" style=" margin-top: 5px;" size="md" color='#2067A1' type='solid' name='bank'></box-icon>
                    </div>
                    <div class="col-12 text-center">
                        <h1 class="card-title" style=" margin-bottom: 1px;">
                            Hotels
                        </h1>
                    </div>
                    <div class="card-body col-12 text-center">
                        <h1 class="card-title" style="font-size: 30px;">
                            @Model.Statistics.TotalHotels
                        </h1>
                    </div>
                </div>
            </div>
        </div>

        <!--Total Transactions Card-->
        <div class="col-md-3 mb-2">
            <div class="card" style="border-radius:20px 20px;">
                <div class="m-2">
                    <div class="text-center col-12">
                        <box-icon class="card-title" style=" margin-top: 5px;" size="md" color='#2067A1' type='regular' name='dollar'></box-icon>
                    </div>
                    <div class="col-12 text-center">
                        <h1 class="card-title" style=" margin-bottom: 1px;">
                            Total Transactions
                        </h1>
                    </div>
                    <div class="card-body col-12 text-center">
                        <h1 class="card-title" style="font-size: 30px;">
                            @Model.Statistics.TotalMonthlyTransactions
                        </h1>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--Commission Statistics-->
    <h3>Commission Statistics</h3>
    <div class="Transaction-chart pt-5 pb-5 card">
        <div class="row d-flex m-3">
            <div class="container">
                <canvas id="myLineChart" width="800" height="200"></canvas>
            </div>
        </div>
    </div>

    <!--Top Customers-->
    <!--<h3>
        Top Customers
    </h3>
    <div class="row">
        <div class="col-sm-12">-->
    <!--Customer 1-->
    <!--<div class="card p-2 m-4">
                <div class="d-flex justify-content-sm-center justify-content-md-between flex-sm-wrap flex-md-nowrap ">
                    <div class="d-sm-flex justify-content-sm-center align-content-center">
                        <img src="~/images/profile.png" style="width:100px; height:100px; padding:10px;" />
                    </div>
                    <div class="ms-md-1">
                        <h2 class="card-text text-md-start w-100 text-sm-center">
                            John Doe
                        </h2>
                        <p>
                            Abel Oreniyi Street Off Salvation Road Opebi, Ikeja.
                        </p>
                        <div>
                            <p>
                                Located in Ikeja, 5 Km from Kalakuta Museum, Presken Hotels Opebi Lagos provides
                                accomodation with a restaurant, free private parking, a fitness center and a bar.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
</div>

@section Scripts {
    <script>
			const actions = [
			    {
			    name: 'Position: average',
			    handler(chart) {
				    chart.options.plugins.tooltip.position = 'average';
				    chart.update();
			    }},
			    {
			    name: 'Position: nearest',
			    handler(chart) {
				    chart.options.plugins.tooltip.position = 'nearest';
				    chart.update();
			    }},
			    {
			    name: 'Position: bottom (custom)',
			    handler(chart) {
				    chart.options.plugins.tooltip.position = 'bottom';
				    chart.update();
                    }
                }
            ];

            function charting() {
            // Variables
            var months = @Html.Raw(Model.Statistics.Months);
            var revenues = @Html.Raw(Model.Statistics.Revenues);

            // Line Chart
            var ctx_line = document.getElementById("myLineChart").getContext("2d");
            var transactionChart = new Chart(ctx_line, {
                type: 'line',
                data: {
                    labels: months,
                    datasets: [{
                        data: revenues,
                        backgroundColor: [
                            '#FFBB33',
                        ],
                        borderColor: [
                            '#2067A1',
                        ],
                        borderWidth: 1,
                        fill: true
                    }]
                },
                options: {
                    scale: {
                        y: {
                            beginAtZero: true
                        }
                    },
                    legend: {
                        display: false
                    },
                    plugins: {
                        title: {
                            display: true
                        },
                    }
                }
            });
        }
        charting();
    </script>
}

